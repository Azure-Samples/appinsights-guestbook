(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{45:function(e,t,a){e.exports=a(99)},51:function(e,t,a){},53:function(e,t,a){},55:function(e,t,a){},90:function(e,t,a){},92:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),s=a(20),i=a.n(s),c=(a(51),a(9)),r=a(10),l=a(12),m=a(11),u=a(13),p=a(109),h=a(107),d=(a(53),a(106)),g=(a(55),a(17)),f=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.location.pathname,t="/guestbook"===e?"Signing Page":"Guestbook",a="/guestbook"===e?"/":"/guestbook";return o.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark"},o.a.createElement("span",{className:"navbar-brand d-flex"},"Application Insights Demo Guestbook"),o.a.createElement("div",{className:"divider-vertical navbar-collapse collapse",id:"navbar"},o.a.createElement("ul",{className:"navbar-nav d-flex"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(d.a,{className:"nav-link",to:a},t)))))}}]),t}(n.Component);f.displayName="Header";var v=Object(g.a)(f),b=a(41),E=a(19),O=a.n(E),j=O.a.createActions(["submit"]),N=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={messages:e.getMessages()},e.listenables=j,e}return Object(u.a)(t,e),Object(r.a)(t,[{key:"getMessages",value:function(){var e=localStorage.getItem("messages");return e?JSON.parse(e):[]}},{key:"setMessages",value:function(e){var t=JSON.stringify(e);localStorage.setItem("messages",t)}},{key:"onSubmit",value:function(e,t){console.log(this.state);var a={email:e,text:t},n=this.getMessages();n.push(a),this.setMessages(n),this.setState(function(e,t){return{messages:n}})}}]),t}(O.a.Store),k=a(42),y=a.n(k),w=(a(90),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).onClick=function(e){var t=a.state,n=t.email,o=t.name,s=t.message,i=t.team;n.length>0&&-1===n.indexOf("@")&&(n+="@microsoft.com"),a.state.name&&(y.a.post("/api/signatures",{email:n,guestSignature:o,message:s,team:i}).then(function(e){console.log(e,"Signature added!")}).catch(function(e){console.log(e,"Signature not added")}),a.setState({email:"",message:"",name:"",team:""}))},a.handleInputChange=function(e){var t=e.target,n=t.value,o=t.name;a.setState(function(e,t){return Object(b.a)({},o,n)})},a.store=N,a.state={email:"",message:"",name:""},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"panel panel-default"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"container form-group"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4"},o.a.createElement("label",{htmlFor:"inputName"},"Name"),o.a.createElement("form",{autoComplete:"new-password"},o.a.createElement("input",{type:"text",autoComplete:"off",className:"form-control",name:"name",value:this.state.name,onChange:this.handleInputChange,id:"nameInput",placeholder:"Name (required)"}))),o.a.createElement("div",{className:"col-4"},o.a.createElement("label",{htmlFor:"inputTeam"},"Team"),o.a.createElement("input",{type:"text",autoComplete:"off",className:"form-control",name:"team",value:this.state.team,onChange:this.handleInputChange,id:"teamInput",placeholder:"Team Name (optional)"})),o.a.createElement("div",{className:"col-3"},o.a.createElement("label",{htmlFor:"inputAlias"},"Email or Alias"),o.a.createElement("input",{type:"text",autoComplete:"off",className:"form-control",name:"email",value:this.state.email,onChange:this.handleInputChange,id:"aliasInput",placeholder:"Alias or Email (optional)"})),o.a.createElement("div",{className:"col-11",style:{paddingTop:"10px",paddingBottom:"10px"}},o.a.createElement("label",{htmlFor:"inputMessage"},"Say something!"),o.a.createElement("input",{type:"text",autoComplete:"off",className:"form-control",name:"message",value:this.state.message,onChange:this.handleInputChange,id:"messageInput",placeholder:"Message (optional)"}))),o.a.createElement("button",{className:"btn btn-primary",onClick:this.onClick},"Submit"))))}}]),t}(O.a.Component));w.displayName="GBForm";var C=Object(g.a)(w),x=(a(92),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={messages:[]},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/signatures").then(function(t){t.json().then(function(t){var a=t.map(function(e){return{name:e.guestSignature,text:e.message,team:e.team}});e.setState({messages:a})}).catch(function(e){return console.warn(e.toString())})})}},{key:"render",value:function(){var e=this.state.messages.map(function(e,t){return o.a.createElement("div",{key:"".concat(e.name,"-").concat(t),className:"list-group-item"},o.a.createElement("p",{className:"h4 list-group-item-heading"},e.name,o.a.createElement("small",{className:"text-muted"},e.team?" - ".concat(e.team):"")),o.a.createElement("p",{className:"list-group-item-text"},e.text))});return o.a.createElement("div",{className:"list-group"},e)}}]),t}(o.a.Component));x.displayName="GBList";var S=Object(g.a)(x),I=a(108),A=a(7),M=new(a(43).a),B=new I.a({config:{extensions:[M],instrumentationKey:"a08f3f2d-9884-4437-b6ec-c835d3d58d82",maxBatchInterval:100,disableFetchTracking:!1}});B.loadAppInsights();var F=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){B.trackPageView({}),this.unlisten=this.props.history.listen(function(e,t){B.core._extensions[2].operation.id=A.e.newId(),B.trackPageView({name:e.pathname})})}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"render",value:function(){return o.a.createElement("div",{className:"App container"},this.props.children)}}]),t}(n.Component);F.displayName="AppContainer";var W=Object(g.b)(F),T=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement(p.a,null,o.a.createElement(W,null,o.a.createElement(h.a,{path:"/",component:v}),o.a.createElement(h.a,{exact:!0,path:"/",component:C}),o.a.createElement(h.a,{exact:!0,path:"/guestbook",component:S})))}}]),t}(n.Component);T.displayName="App";var G=T,J=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function L(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(95),a(97);i.a.render(o.a.createElement(G,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");J?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):L(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):L(e)})}}()}},[[45,2,1]]]);
//# sourceMappingURL=main.c797c699.chunk.js.map